<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to Use the Pandas Groupby Method? &mdash; CodeSolid.com 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=19645805"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="How to Visualize Data Using Pandas" href="../how-to-visualize-data-using-pandas/" />
    <link rel="prev" title="Large Data Sets in Python: Pandas And The Alternatives" href="../large-data-sets-in-python-pandas-and-the-alternatives/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../" class="icon icon-home">
            CodeSolid.com
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Featured Articles:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../using-latex-in-python/">Using LaTeX In Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing-pyenv-on-a-mac/">Installing Pyenv on a Mac (A Setup Guide With Usage Tips)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conda-vs-pip/">Conda vs. Pip, Venv, and Pyenv – Simplicity Wins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jupyter-password/">Jupyter Password: Easy Notebook and Lab Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Added Recently:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../math/taking-calculus-in-your-sixties/">Can You Take Calculus In Your Sixties?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/exploring_basic_number_theory_in_python/">Exploring Basic Number Theory in Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Categories</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../category-math-and-math-software/">Math and Math Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-python/">Python (General)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-python-for-beginners-posts/">Python for Beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-python-functions/">Python Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-python-math-and-science/">Python Math and Science</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-python-practice/">Python Practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-python-tools/">Python Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../category-pandas/">Pandas</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../selecting-data-in-pandas/">Selecting Data in Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-pyarrow-and-parquet/">Python Parquet and Arrow:  Using PyArrow with Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-pyarrow-and-parquet/#python-parquet-and-arrow-using-pyarrow-with-pandaspickup-2019-03-23-20-21-09-000000000-2019-03-04-16-11-55-000000000-2019-03-27-17-53-01-000000000-2019-03-10-01-23-59-000000000-2019-03-30-13-27-42-000000000">Python Parquet and Arrow:  Using PyArrow with Pandaspickup: [[2019-03-23 20:21:09.000000000,2019-03-04 16:11:55.000000000,2019-03-27 17:53:01.000000000,2019-03-10 01:23:59.000000000,2019-03-30 13:27:42.000000000]]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kaggle-datasets/">Using the Kaggle Datasets API in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql-with-pandas/">Using SQL With Pandas:  PandasSQL and IPython-SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-data-analysis-starter-project/">Python Data Analysis Starter Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alternatives-to-pandas-python-polars/">Alternatives to Pandas:  Python Polars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandas-practice-examples/">Pandas Examples and Review Questions to Make You an Expert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../google-sheets-in-python-and-pandas/">How to Work With Google Sheets In Python and Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-cleaning-in-pandas/">Data cleaning in Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../large-data-sets-in-python-pandas-and-the-alternatives/">Large Data Sets in Python:  Pandas And The Alternatives</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">How to Use the Pandas Groupby Method?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#contents">Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-the-pandas-groupby-function">What is The Pandas Groupby Function?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-data-we-ll-be-using">Sample Data We’ll Be Using</a></li>
<li class="toctree-l3"><a class="reference internal" href="#splitting-data-into-groups-using-pandas-groupby">Splitting Data into Groups Using Pandas Groupby</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-group-based-on-one-column">Creating a Group Based on One Column</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-groups-based-on-two-columns">Creating Groups Based on Two Columns</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grouping-by-three-columns">Grouping By Three Columns</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#getting-a-specific-group">Getting a Specific Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pandas-groupby-output-format">Pandas Groupby Output Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iterating-through-groups-in-pandas-groupby">Iterating Through Groups in Pandas Groupby</a></li>
<li class="toctree-l3"><a class="reference internal" href="#finding-the-percentage-of-grouped-data">Finding the Percentage of Grouped Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#different-built-in-functions">Different Built-in Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aggregation">Aggregation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filtering">Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transformation">Transformation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apply">Apply</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#saving-grouped-pandas-dataframe-in-different-formats">Saving Grouped Pandas DataFrame in Different Formats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#saving-a-pandas-dataframe-as-a-csv-file">Saving a Pandas DataFrame As a CSV File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#saving-pandas-dataframe-as-an-excel-file">Saving Pandas DataFrame as an Excel file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#you-may-also-enjoy">You May Also Enjoy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../how-to-visualize-data-using-pandas/">How to Visualize Data Using Pandas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../category-newsletter/">Newsletter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-miscellaneous/">Other</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-c-and-cplusplus/">C and C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-docker/">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-jupyter/">Jupyter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../category-learn-to-code/">Learn to Code</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">CodeSolid.com</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../category-pandas/">Pandas</a></li>
      <li class="breadcrumb-item active">How to Use the Pandas Groupby Method?</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pandas-groupby.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="how-to-use-the-pandas-groupby-method">
<h1>How to Use the Pandas Groupby Method?<a class="headerlink" href="#how-to-use-the-pandas-groupby-method" title="Link to this heading"></a></h1>
<section id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>What is The Pandas Groupby Function?</p></li>
<li><p>Sample Data We’ll Be Using</p></li>
<li><p>Splitting Data into Groups Using Pandas Groupby</p>
<ul>
<li><p>Creating a Group Based on One Column</p></li>
<li><p>Creating Groups Based on Two Columns</p></li>
<li><p>Grouping By Three Columns</p></li>
</ul>
</li>
<li><p>Getting a Specific Group</p></li>
<li><p>Pandas Groupby Output Format</p></li>
<li><p>Iterating Through Groups in Pandas Groupby</p></li>
<li><p>Finding the Percentage of Grouped Data</p></li>
<li><p>Different Built-in Functions</p>
<ul>
<li><p>Aggregation</p></li>
<li><p>Filtering</p></li>
<li><p>Transformation</p></li>
<li><p>Apply</p></li>
</ul>
</li>
<li><p>Saving Grouped Pandas DataFrame in Different Formats</p>
<ul>
<li><p>Saving a Pandas DataFrame As a CSV File</p></li>
<li><p>Saving Pandas DataFrame as an Excel file</p></li>
</ul>
</li>
<li><p>Summary</p></li>
<li><p>You May Also Enjoy</p></li>
</ul>
</section>
<section id="what-is-the-pandas-groupby-function">
<h2>What is The Pandas Groupby Function?<a class="headerlink" href="#what-is-the-pandas-groupby-function" title="Link to this heading"></a></h2>
<p>The groupby function in Pandas is a powerful and versatile tool in Python. Using this method, we may split our data, apply different operations to different subsets, and then merge the final results. This may be used to process enormous amounts of data for various computations.</p>
<p>This tutorial will cover splitting, grouping, and selecting data from Pandas groupby. By the end, you will have a solid knowledge of Pandas groupby. You can easily apply this method to your dataset and save it as CSV and Excel files.</p>
<p>As part of this tutorial, we will use a CSV file with not so much data for training purposes. You can <a class="reference external" href="https://raw.githubusercontent.com/CodeSolid/CodeSolid.github.io/main/booksource/data/AQ.csv">download</a> this file later and practice on your own.</p>
</section>
<section id="sample-data-we-ll-be-using">
<h2>Sample Data We’ll Be Using<a class="headerlink" href="#sample-data-we-ll-be-using" title="Link to this heading"></a></h2>
<p>Our dataset csv file (AQ.csv) contains the following data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Country</span><span class="p">,</span><span class="n">Air</span> <span class="n">Quality</span> <span class="n">Index</span><span class="p">,</span><span class="n">Year</span><span class="p">,</span><span class="n">Status</span><span class="p">,</span><span class="n">Continent</span>
<span class="n">Bangladesh</span><span class="p">,</span><span class="mi">173</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Poor</span><span class="p">,</span><span class="n">South</span> <span class="n">Asia</span>
<span class="n">Chad</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Poor</span><span class="p">,</span><span class="n">Africa</span>
<span class="n">Pakistan</span><span class="p">,</span><span class="mi">131</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Poor</span><span class="p">,</span><span class="n">South</span> <span class="n">Asia</span>
<span class="n">Tajikistan</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Poor</span><span class="p">,</span><span class="n">Central</span> <span class="n">Asia</span>
<span class="n">Mongolia</span><span class="p">,</span><span class="mi">107</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Poor</span><span class="p">,</span><span class="n">Asia</span>
<span class="n">Uganda</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Moderate</span><span class="p">,</span><span class="n">Africa</span>
<span class="n">United</span> <span class="n">Arab</span> <span class="n">Emirates</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Moderate</span><span class="p">,</span><span class="n">Asia</span>
<span class="n">Uzbekistan</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Moderate</span><span class="p">,</span><span class="n">Central</span> <span class="n">Asia</span>
<span class="n">India</span><span class="p">,</span><span class="mi">88</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Moderate</span><span class="p">,</span><span class="n">South</span> <span class="n">Asia</span>
<span class="n">Kyrgyzstan</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">2021</span><span class="p">,</span><span class="n">Moderate</span><span class="p">,</span><span class="n">Central</span> <span class="n">Asia</span>
</pre></div>
</div>
<table><tbody><tr><td></td></tr></tbody></table>
<p>Now let’s open our example CSV file and see our data using the Pandas <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> function.</p>
<p>Let’s use the Pandas <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> function to look at our sample CSV file and its contents.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># importing pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># openning our csv file</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;AQ.csv&quot;</span><span class="p">)</span>

<span class="c1"># showing the content of our CSV file</span>
<span class="n">df</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh5.googleusercontent.com/Yz_G_OM2Rz9P7lHSPdmlol4fA4V2lW6otWmBBYzxx6lhXtWajbMuszs6kcfNyF9grlVHudEm2oZNXRSvwnuEgF-3lZF8LhU_AxwMGVny-hVvCay3a68nWrRVSx0vf7Cn5a7JytoKTlmmJ6MDmjKu3-fmVqGwpIZjpnb8PPtfxeWeT5TyapaTS8ND0Q)
</section>
<section id="splitting-data-into-groups-using-pandas-groupby">
<h2>Splitting Data into Groups Using Pandas Groupby<a class="headerlink" href="#splitting-data-into-groups-using-pandas-groupby" title="Link to this heading"></a></h2>
<p>In the result above, we can see that we have at least three categories by which we can group our data: “Year”, “Status” and “Continent”. To group our data by, for instance, the continent, we can type <code class="docutils literal notranslate"><span class="pre">df.groupby('Continent')</span></code> given that your DataFrame is called “df” and that the column is called “Continent”.</p>
<p>We are going to use the groupby method to group a DataFrame based on one, two, three, or more columns.</p>
<section id="creating-a-group-based-on-one-column">
<h3>Creating a Group Based on One Column<a class="headerlink" href="#creating-a-group-based-on-one-column" title="Link to this heading"></a></h3>
<p>Now let’s start with the simplest example – grouping data by one column.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># grouping data by one column</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Continent&#39;</span><span class="p">)</span>

<span class="c1"># printing the dataset after using &#39;groupby&#39; by &#39;Continent&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cont</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&lt;pandas.core.groupby.generic.DataFrameGroupBy<span class="w"> </span>object<span class="w"> </span>at<span class="w"> </span>0x0000018F426AC760&gt;
</pre></div>
</div>
<p>The result shows us that we have successfully created a group of pandas objects, but, in general, it gives us nothing. In the output, we can see that whenever we try to use the print function to see our grouped data, it prints the object, not the data itself inside the object.</p>
<p>Let’s now look at the group we just created using the ‘group method’.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># printing the data from the object using groups method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cont</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span><span class="s1">&#39;Africa&#39;</span>:<span class="w"> </span><span class="o">[</span><span class="m">1</span>,<span class="w"> </span><span class="m">5</span><span class="o">]</span>,<span class="w"> </span><span class="s1">&#39;Asia&#39;</span>:<span class="w"> </span><span class="o">[</span><span class="m">4</span>,<span class="w"> </span><span class="m">6</span><span class="o">]</span>,<span class="w"> </span><span class="s1">&#39;Central Asia&#39;</span>:<span class="w"> </span><span class="o">[</span><span class="m">3</span>,<span class="w"> </span><span class="m">7</span>,<span class="w"> </span><span class="m">9</span><span class="o">]</span>,<span class="w"> </span><span class="s1">&#39;South Asia&#39;</span>:<span class="w"> </span><span class="o">[</span><span class="m">0</span>,<span class="w"> </span><span class="m">2</span>,<span class="w"> </span><span class="m">8</span><span class="o">]}</span>
</pre></div>
</div>
<p>Notice that in the output above we see the grouped data with indexes. Now, let’s show it in the table:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># showing the groups in the table using &#39;count&#39; method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cont</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<p>![A picture containing text</p>
<div></div>
Description automatically generated](https://lh4.googleusercontent.com/qJufc7IcMLbMjKK5m6HORSXlwGehwK0cQRdyW63MdPLS3ZrKEeulzPQI6j1slMSehsYey_MW85cJLYXTbrXIkx3rMoSVuNVKHZNHxdA8EOL6QVA8-JwGX0LWx0qB8IeyRgHRsh3iKng6sak-Heh3tFZOAACBJnT2luWBi38gzmtAroJAO8KxmM1Shw)
<p>This was all about how to group DataFrame based on one column. Let’s proceed with the grouping based on multiple columns.</p>
</section>
<section id="creating-groups-based-on-two-columns">
<h3>Creating Groups Based on Two Columns<a class="headerlink" href="#creating-groups-based-on-two-columns" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># grouping data by two columns &#39;Status&#39; and &#39;Continent&#39;</span>
<span class="n">AQ</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Status&#39;</span><span class="p">,</span><span class="s1">&#39;Continent&#39;</span><span class="p">])</span>

<span class="c1"># printing grouped data</span>
<span class="nb">print</span><span class="p">(</span><span class="n">AQ</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{(</span><span class="s1">&#39;Moderate&#39;</span>,<span class="w"> </span><span class="s1">&#39;Africa&#39;</span><span class="o">)</span>:<span class="w"> </span><span class="o">[</span><span class="m">5</span><span class="o">]</span>,<span class="w"> </span><span class="o">(</span><span class="s1">&#39;Moderate&#39;</span>,<span class="w"> </span><span class="s1">&#39;Asia&#39;</span><span class="o">)</span>:<span class="w"> </span><span class="o">[</span><span class="m">6</span><span class="o">]</span>,<span class="w"> </span><span class="o">(</span><span class="s1">&#39;Moderate&#39;</span>,<span class="w"> </span><span class="s1">&#39;Central Asia&#39;</span><span class="o">)</span>:<span class="w"> </span><span class="o">[</span><span class="m">7</span>,<span class="w"> </span><span class="m">9</span><span class="o">]</span>,<span class="w"> </span><span class="o">(</span><span class="s1">&#39;Moderate&#39;</span>,<span class="w"> </span><span class="s1">&#39;South Asia&#39;</span><span class="o">)</span>:<span class="w"> </span><span class="o">[</span><span class="m">8</span><span class="o">]</span>,<span class="w"> </span><span class="o">(</span><span class="s1">&#39;Poor&#39;</span>,<span class="w"> </span><span class="s1">&#39;Africa&#39;</span><span class="o">)</span>:<span class="w"> </span><span class="o">[</span><span class="m">1</span><span class="o">]</span>,<span class="w"> </span><span class="o">(</span><span class="s1">&#39;Poor&#39;</span>,<span class="w"> </span><span class="s1">&#39;Asia&#39;</span><span class="o">)</span>:<span class="w"> </span><span class="o">[</span><span class="m">4</span><span class="o">]</span>,<span class="w"> </span><span class="o">(</span><span class="s1">&#39;Poor&#39;</span>,<span class="w"> </span><span class="s1">&#39;Central Asia&#39;</span><span class="o">)</span>:<span class="w"> </span><span class="o">[</span><span class="m">3</span><span class="o">]</span>,<span class="w"> </span><span class="o">(</span><span class="s1">&#39;Poor&#39;</span>,<span class="w"> </span><span class="s1">&#39;South Asia&#39;</span><span class="o">)</span>:<span class="w"> </span><span class="o">[</span><span class="m">0</span>,<span class="w"> </span><span class="m">2</span><span class="o">]}</span>
</pre></div>
</div>
<p>To show it in the table using <code class="docutils literal notranslate"><span class="pre">count</span></code> method like in the code below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># showing the groups based on two columns in the table using &#39;count&#39; method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">AQ</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh5.googleusercontent.com/POCM5YVdku0TeUk2KDEI6FpC-Fe8LLsjsVsdYC_8tJw4DrgYiR3-BI6ZkhT72UX9Kw5qQtOXYVMJx7gQ9TFXYL2sUfD4necpExGhPMR7Z8kky5gSio8Wam-J0pEhvr1EgJGxMPOBBM18_vl_n5ZxajANttdgv00qiBRZDETYkf_fwkLH2W2V4GHppA)
</section>
<section id="grouping-by-three-columns">
<h3>Grouping By Three Columns<a class="headerlink" href="#grouping-by-three-columns" title="Link to this heading"></a></h3>
<p>Use the same idea for grouping by three columns and showing the grouped data in a table.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># grouping data by three columns &#39;Status&#39;,&#39;Continent&#39; and &#39;Country&#39;</span>
<span class="n">AQ</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Status&#39;</span><span class="p">,</span><span class="s1">&#39;Continent&#39;</span><span class="p">,</span><span class="s1">&#39;Country&#39;</span><span class="p">])</span>

<span class="c1"># printing grouped data using ‘count’ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">AQ</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Text</p>
<div></div>
Description automatically generated with medium confidence](https://lh5.googleusercontent.com/916l7Q2oJf8-MXVESkGxJmk-NoLgdtdkT9T4rMIBjvjzTHOuqdt2_9JWqk2rCVPgCA3h8rmxROssudhEKQHeqh1dEtKyPW30y1_Z_yz3dcjNnnIZncyJV6SJrPwME1kyKxKYX46RAUJSiPAteMP4ol-EOhLDciUFbkd9XqKF--dcREgo03gF54I_dw)
</section>
</section>
<section id="getting-a-specific-group">
<h2>Getting a Specific Group<a class="headerlink" href="#getting-a-specific-group" title="Link to this heading"></a></h2>
<p>If we have multiple groups, we can select one of these groups as shown below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># calling &#39;get_group&#39; method to access a specific group from all the groups</span>
<span class="n">groups</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="s1">&#39;Asia&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh3.googleusercontent.com/_eOPsoA_MkOI8O_UXcNdx4H6nhui1vw-27t91z8xS5jh210dzcvxWkB6X2nL7UnsXm9vdaKeGh9XP57yx5TA1KDmyKqW6kgufWVxvTTDJtc8JRW-uFAXO5yVNrUndmSF9z-kf9XPWbDRze3ksmQvXi2NFGomoHsI9JVlTU74ntrcAMAoTk9p6mUBHw)
<p>Using <code class="docutils literal notranslate"><span class="pre">get_group</span></code> to multiple values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># creating groups by two columns</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Continent&quot;</span><span class="p">,</span><span class="s2">&quot;Status&quot;</span><span class="p">])</span>

<span class="c1"># calling &#39;get_group&#39; method to access to two grouped columns values</span>
<span class="n">asia</span> <span class="o">=</span> <span class="n">groups</span><span class="o">.</span><span class="n">get_group</span><span class="p">((</span><span class="s2">&quot;South Asia&quot;</span><span class="p">,</span><span class="s2">&quot;Poor&quot;</span><span class="p">))</span>

<span class="c1"># printing the result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">asia</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Text, letter</p>
<div></div>
Description automatically generated](https://lh3.googleusercontent.com/Q2GSHQXuvvr_PQt2swGsjbW-jLZXSVF7r_o_qBX9VE9pyV-qWg4hx4rLA-FIjKOxDjESyaKbiHjqETy_4-3BQLjBWJu-NIHX-cpOsgs_SR2c0pvWqSgOfztia413rrfw5Koa1UVeGvl9e984l_XwwkwvV0wy8uCutPGQzWT-kMxldFUVwQW8GKoOMQ)
<p>The results show us that we printed only countries with the “Poor” status from the “Continent” group’s column “South Asia”.</p>
<p>We can also apply different aggregations to a specific group using the same <code class="docutils literal notranslate"><span class="pre">get_group</span></code> method and any other aggregation functions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># calling &#39;get_group&#39; method to access a specific group from all the groups</span>
<span class="n">asia</span> <span class="o">=</span> <span class="n">groups</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="s1">&#39;Asia&#39;</span><span class="p">)</span>

<span class="c1"># applying mean() function to the specific column</span>
<span class="n">mean</span> <span class="o">=</span> <span class="n">asia</span><span class="p">[</span><span class="s1">&#39;Air Quality Index&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># pinting the mean</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Air quality index&#39;s mean value of Asia is&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p><img alt="" src="https://lh3.googleusercontent.com/dDXL74qKGhpyw0WJB43cRMIcphcYZbpJs0eOLbj7yefGMZlAnSkWyHLMu-h3BcO1kTTMnaHpiJu3b_5LbA17V04698AQZ87LT0O8SZDXwKxn8Qa-Nj4kZjouuwukB3fw8ssqDzBTIi9PKxCzyyIBCaxcRdca4AXORGg5qyg2IoV6A69Er0CFgRsVgA" /></p>
</section>
<section id="pandas-groupby-output-format">
<h2>Pandas Groupby Output Format<a class="headerlink" href="#pandas-groupby-output-format" title="Link to this heading"></a></h2>
<p>The output of groupby and aggregate operations differs between Pandas Series and Pandas DataFrames, which can be confusing.</p>
<p>Typically, if you compute the result with more than one column, your result will be a DataFrame. For single-column results, aggregation functions will generate a Series by default. We can change this setting by selecting a different operation column:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># producing Pandas Series</span>
<span class="c1"># using &#39;mean()&#39; method to find the average air quality index for each continent</span>
<span class="c1"># rounding the mean using &#39;round()&#39; function</span>

<span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Continent&#39;</span><span class="p">)[</span><span class="s1">&#39;Air Quality Index&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh4.googleusercontent.com/Zf7-Q6lBzpegUmhEqNFIV1r_gP-hraKbKYk3YcNJeC9FScnTkmUDIuXeczxzevZHT_kF9Y-ZnTKFJRMp1g4YJ3D5ZBkSHUpicyf0hZyIOo41FKNY2C1qZBz5zeZ5_bz_OWi8i4F5SvDB4eFiM7movzZkougKd8XbZKWpaI3TyB-PZIIDP2Bfy09oUQ)
<p>Output in this case is in Pandas Series.</p>
<p>Now let’s try to get Pandas DataFrame as a result:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># producing Pandas DataFrame</span>
<span class="c1"># using &#39;mean()&#39; method to find the average air quality index for each continent</span>
<span class="c1"># rounding the mean using &#39;round()&#39; function</span>

<span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Continent&#39;</span><span class="p">)[[</span><span class="s1">&#39;Air Quality Index&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh5.googleusercontent.com/DMDBChdUI5oEd-Ew09Ou_RDPf3WB-KqFz5-idj_ft3E_ZXPGKiq6NAa3sEBX91Rvbnt0ZLJwOPoi7MVxRpldjW2YEJjRCSSkXmwCm0GymcF2pu3wxh-sV4xXTaTxShVTca_FmqWZEN8A8t_siKkI_-JUfHUrFqarSKRaIvEu9pZLcyyGbJM2y_bm0g)
<p>This way we can get different output formats depending on our request.</p>
</section>
<section id="iterating-through-groups-in-pandas-groupby">
<h2>Iterating Through Groups in Pandas Groupby<a class="headerlink" href="#iterating-through-groups-in-pandas-groupby" title="Link to this heading"></a></h2>
<p>We already know how to use Pandas groupby function with one and multiple groups (columns), which is returning pandas object, which is iterable.</p>
<p>Now let’s iterate through the objects using the for loop and print the data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># impoting pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># openning dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;AQ.csv&quot;</span><span class="p">)</span>

<span class="c1"># creating group based on one column using pandas groupby method</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Continent&quot;</span><span class="p">)</span>

<span class="c1"># iterating over groups using for loop</span>
<span class="k">for</span> <span class="n">continent</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">continent</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![A screenshot of a computer</p>
<div></div>
Description automatically generated with low confidence](https://lh3.googleusercontent.com/VSCrtflKpURrnDz8FUPmDFeRmgoVamjzh9K-c1Mr37JW5flpp-vHMbgjTaA-0zTJtg3M7TemilTJySt8YveoKP07JCIfIqnbc6Uby_T7DuBePk2n4xkNw0iaQCVpUjBxV2d7LbhglkSCG3BUMEegI0N9WybdhWS_UtYoPG_4KOZ5-zp55bfzGhj8ZA)
<p>Now let’s see what the result will be if we will iterate through two groups:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># creating group based on two columns using pandas groupby method</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Continent&quot;</span><span class="p">,</span><span class="s2">&quot;Status&quot;</span><span class="p">])</span>

<span class="c1"># iterating over groups using for loop</span>
<span class="k">for</span> <span class="n">continent</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">continent</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Text</p>
<div></div>
Description automatically generated](https://lh5.googleusercontent.com/tnkUa61gB04d8kRLQOv7AnXGd-F0vXyooHTcC1Tnm2TdqI-_C4tUupzSu4RUxcIFqCKJZiaf0mPWeleH2tYJ1RKlP2l6TeVQG8SB_6FerHrYeVw5K7iJ7BPoM82wKeegn3tr13bC4x3YP5R1ox-uZtUOW_QvoEJy3STha78RkYSAiCaqUfQ9-qwEpw)
<p>In the same way, let’s try to use for loop for the three groups.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># creating group based on three columns using pandas groupby method</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Continent&quot;</span><span class="p">,</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span><span class="s2">&quot;Status&quot;</span><span class="p">])</span>

<span class="c1"># iterating over groups using for loop</span>
<span class="k">for</span> <span class="n">continent</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">continent</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![A close-up of a document</p>
<div></div>
Description automatically generated with medium confidence](https://lh6.googleusercontent.com/c4Fy-2pK5NO0dx_9IET07AT4Jo1dOa2ibuOrYdkz-kDAIYpjkN2Cgzap4gASbSWgKVAiGhEjhL40qerbD6zSJteVQdJkIBdp6hrUoijYn01VdLtjlCRjnZCSW9ctm2-kx3jWtPfTq0xyEVWpBoyr3LRsfjcFfDZb_UujpwLx4tADpRvc31VqWpyAcA)
<p>That was all about using for loop through one and multiple columns.</p>
</section>
<section id="finding-the-percentage-of-grouped-data">
<h2>Finding the Percentage of Grouped Data<a class="headerlink" href="#finding-the-percentage-of-grouped-data" title="Link to this heading"></a></h2>
<p>Moreover, we can use different functions over our grouped data. For example, let’s use a lambda function to see the percentage of the grouped data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># creating groups by three columns</span>

<span class="c1"># applying &#39;size()&#39; property to represent the number of elements in this object</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Continent&quot;</span><span class="p">,</span><span class="s2">&quot;Status&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>

<span class="c1"># calculating the percentage on the level of status for each continent using lambda function</span>
<span class="n">perc</span> <span class="o">=</span> <span class="n">groups</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="mi">100</span><span class="o">*</span><span class="n">x</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">()))</span>

<span class="c1"># showing the result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">perc</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh3.googleusercontent.com/g0keTahtmN3mbWM5anK9ly0PamrNdGXTe3In64cRQ64ccq3_6PavfSytVHy7OgAWwNu7aA8_vBodWKwpkmsRH8LcwoStv1Rj-J_YdxY1uW94AQ7u1nm2KHbupBLndh_qg3DPPijYhgbtfcEw0LaLjJVsWVg_42p8IGxcZ4b0qvKImuREPCnsqHq4yg)
</section>
<section id="different-built-in-functions">
<h2>Different Built-in Functions<a class="headerlink" href="#different-built-in-functions" title="Link to this heading"></a></h2>
<p>Up to this point, we used <code class="docutils literal notranslate"><span class="pre">mean</span></code>, <code class="docutils literal notranslate"><span class="pre">count</span></code>, and other functions, which are built-in Pandas aggregation, but they’re not the only ones.</p>
<p>The following table summarizes some other built-in Pandas aggregations:</p>
<table><tbody><tr><td><strong>Aggregation</strong></td><td><strong>Description</strong></td></tr><tr><td><code>count()</code></td><td>Total number of items</td></tr><tr><td><code>first(),&nbsp;last()</code></td><td>First and last item</td></tr><tr><td><code>mean(),&nbsp;median()</code></td><td>Mean and median</td></tr><tr><td><code>min(),&nbsp;max()</code></td><td>Minimum and maximum</td></tr><tr><td><code>std(),&nbsp;var()</code></td><td>Standard deviation and variance</td></tr><tr><td><code>mad()</code></td><td>Mean absolute deviation</td></tr><tr><td><code>prod()</code></td><td>Product of all items</td></tr><tr><td><code>sum()</code></td><td>Sum of all items</td></tr></tbody></table>
<p>Take a look at this example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># using describe function over each continents&#39; air quality indexes</span>

<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Continent&#39;</span><span class="p">)[</span><span class="s1">&#39;Air Quality Index&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
<p>In this code, we’re using <code class="docutils literal notranslate"><span class="pre">[‘Air</span> <span class="pre">Quality</span> <span class="pre">Index’]</span></code> to specify over which group we want to apply a describe function.</p>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh5.googleusercontent.com/TNFzvs9FdIRNDqBHgHYUqZjDl5sAYXt_dMCKW6oQ-0R0_9-34J485HCvaMAKedch2n5BSSjb7zpz-trsT8w0t9YkxMqUn-QClYGELaDqTlCETF3wJFiajqiMCygBC2LghsJz3wd2fqiZigHBUPy0y8zzl3ObO1qty1R4km5ggYdvjloglFOwKXkKtA)
<p>Before it, we mainly used built-in functions separately like <code class="docutils literal notranslate"><span class="pre">mean()</span></code>, <code class="docutils literal notranslate"><span class="pre">sum()</span></code>, etc. Still, groupby objects have <code class="docutils literal notranslate"><span class="pre">aggregate()</span></code>, <code class="docutils literal notranslate"><span class="pre">filter()</span></code>, <code class="docutils literal notranslate"><span class="pre">transform()</span></code>, and <code class="docutils literal notranslate"><span class="pre">apply()</span></code> methods that easily execute a bunch of useful operations before combining the grouped data.</p>
<section id="aggregation">
<h3>Aggregation<a class="headerlink" href="#aggregation" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">aggregate()</span></code> method allows us to use several different aggregations and compute all of them at once.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># importing pandas </span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># importing numpy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># using multiple aggregations like min(),mean(),max()</span>
<span class="n">agg</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Continent&quot;</span><span class="p">,</span><span class="s2">&quot;Year&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">])</span>

<span class="c1"># printing the result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">agg</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated with medium confidence](https://lh5.googleusercontent.com/39zXn0s3u5DHU6vfKnViCkUdVZoAnSaBM4Y_jWw-d5dap_wOpphPhEqY36TcG56MINifV7PHxV96lCGXrAqb6RyJRF1y8C3mYkrOpnFHippdOUlbHSUp0iwhvGI7bea7A0CfrIu8ttGHboJ8EpuQhDDQhD9cyLEho96gkL_YWmWtrRXeBtvFBpeNmw)
<p>In the output, we see that we implemented three functions at once to get each continent’s minimum, mean, and maximum values of the air quality index.</p>
</section>
<section id="filtering">
<h3>Filtering<a class="headerlink" href="#filtering" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">filter()</span></code> operation allows us to discard data based on group properties. For example, we may want to keep only one needed group with some needed properties.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># importing pandas </span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># reading dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;AQ.csv&quot;</span><span class="p">)</span>

<span class="c1"># applying filter() method to our dataset</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">([</span><span class="s1">&#39;Continent&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Quality Index&#39;</span><span class="p">])</span>

<span class="c1"># grouping by continents</span>
<span class="n">groups</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Continent&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh6.googleusercontent.com/jNDpfxSM8DjCWq-0CxxdlgIu7Hjeo2MpNY4vWu6qGSY9UfvcBp7OzZEVYZIPuHFyjk9grSZgtilzrh1m5TfIMSTrLAUg-cm2Xb7I9m5o0tFXK9mdczlJhjfOGnHYkNYL3eHbwxI_ZIBJDvPjLsAKOZJt80p3c_A2xV5Ucswa0IuYOr6evRRGmFw08w)
</section>
<section id="transformation">
<h3>Transformation<a class="headerlink" href="#transformation" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">transform()</span></code> function returns a transformed version of the entire data for the recombination. The output result has the same form as the input before.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># defining function of square </span>
<span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="c1"># getting air quality index from a data frame</span>
<span class="n">AQI</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Air Quality Index&#39;</span><span class="p">]</span>

<span class="c1"># using transfor function over air quality index</span>
<span class="nb">print</span><span class="p">(</span><span class="n">AQI</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">function</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated with medium confidence](https://lh5.googleusercontent.com/jn8KseUc3jUCrxBbxjhxxa_YyqZBP-0l_v0-EbmIqMQASWdVcX_zVkCkHSe7zbJarMf-ilfJwEaU35MV7lEBgTeuXosuSFSJmyCfteMfIPC52PTrITr61Ikj0cOdUMQWdzZ7lbEGwfjc7P9cGKYkIVSbX7UCw2h4O7S5qglKJg463-EZT4QKoev5hg)
</section>
<section id="apply">
<h3>Apply<a class="headerlink" href="#apply" title="Link to this heading"></a></h3>
<p>Apply() function allows us to apply various other functions to the groups.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># applying lambda function </span>
<span class="n">AQI</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Continent&#39;</span><span class="p">])[</span><span class="s1">&#39;Air Quality Index&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

<span class="c1"># printing the result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">AQI</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![A picture containing table</p>
<div></div>
Description automatically generated](https://lh3.googleusercontent.com/jG3wLGuvSWGkZBv3XVoY5Z4COnTeQZUWWMtTnZdeFG9HjDJRtmwF6qFtigwiAtITtMe8YZFs-KmeMYUbxyVME0ktUA2jOJIT7M_PDGoQDDlubFOp10njqYhh9CUbTWM44ldxnccn3N1UDaPRukfiNoDUj240UtinZuOK7J3_D-LHN27EadetA87TAg)
</section>
</section>
<section id="saving-grouped-pandas-dataframe-in-different-formats">
<h2>Saving Grouped Pandas DataFrame in Different Formats<a class="headerlink" href="#saving-grouped-pandas-dataframe-in-different-formats" title="Link to this heading"></a></h2>
<p>In the last section of this tutorial, we’re going to learn how to convert our groupby to CSV and Excel files. However, do not forget that we must reset our indexes for both types of data savings.</p>
<section id="saving-a-pandas-dataframe-as-a-csv-file">
<h3>Saving a Pandas DataFrame As a CSV File<a class="headerlink" href="#saving-a-pandas-dataframe-as-a-csv-file" title="Link to this heading"></a></h3>
<p>To save our data as a CSV file, we will use <code class="docutils literal notranslate"><span class="pre">to_csv</span></code> method. See the example below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># importing pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># reading our datset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;AQ.csv&quot;</span><span class="p">)</span>

<span class="c1"># grouping by the continent</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Continent&#39;</span><span class="p">])</span>

<span class="c1"># resetting index and finding size of the elements in each continent</span>
<span class="n">my_df</span> <span class="o">=</span> <span class="n">groups</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="c1"># converting groupby to csv file using to_csv function</span>
<span class="n">my_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;grouped_file.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># checking saved file </span>
<span class="n">check</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;grouped_file.csv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh6.googleusercontent.com/6U4XJjNFbdSepLZnaq9jxrOcs0eAL1uImW9nFUlWcL_W_5mfy1hgZAoqr6Q2cl2pRSYs8E4lFRKeszS1Ki5mzhr0V95wGorSsJJ9eIoNs-L6MFsd8ClbAhn5FXhR0zeiDSe-tJZ1DRFDjuCpKXsrc4mskdCxtHFqtgLvmhIvcQYP7m0PPec9D-B7dQ)
</section>
<section id="saving-pandas-dataframe-as-an-excel-file">
<h3>Saving Pandas DataFrame as an Excel file<a class="headerlink" href="#saving-pandas-dataframe-as-an-excel-file" title="Link to this heading"></a></h3>
<p>To save our data as an Excel file we will use <code class="docutils literal notranslate"><span class="pre">to_excel</span></code> method.</p>
<p>See the example below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># importing pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># reading our datset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;AQ.csv&quot;</span><span class="p">)</span>

<span class="c1"># grouping by the continent</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Continent&#39;</span><span class="p">])</span>

<span class="c1"># resetting index and finding size of the elements in each continent</span>
<span class="n">my_df</span> <span class="o">=</span> <span class="n">groups</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="c1"># converting groupby to excel file using to_xlsx function</span>
<span class="n">my_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s2">&quot;grouped_file.xlsx&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

<span class="c1"># checking saved file</span>
<span class="n">check</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;grouped_file.csv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<p>![Table</p>
<div></div>
Description automatically generated](https://lh4.googleusercontent.com/ztJfBT2aEreLPI0hMV41wukzsQymYh8R5RR-YuOKLIpqC4r-3_7EfkiTby4keilRqJhd9mbwgP7lsf-ZypAUyX2a1jF3oAcwHm7rgar7WrQe9Oarf5YYPDlu1Ko71b79SqMwb1PHOuPlej6_VZ2AYgHy8cpzG2xzcIz_nT3WbkzRQ_j5ZBFs3Alprw)
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h2>
<p>In this tutorial, we looked at the groupby function, which divides our data into different groups by category. The result of the groupby function is iterable, indicating that we can iterate the groups independently, using various functions at each step of the process. We’ve looked at how to select a particular group and how to work with them. We also learned how to apply different aggregations to one or more groups and finally learned how to save our data as CSV or Excel files.</p>
</section>
<section id="you-may-also-enjoy">
<h2>You May Also Enjoy<a class="headerlink" href="#you-may-also-enjoy" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://codesolid.com/pandas-practice-examples/">Pandas Examples and Review Questions to Make You an Expert</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../large-data-sets-in-python-pandas-and-the-alternatives/" class="btn btn-neutral float-left" title="Large Data Sets in Python: Pandas And The Alternatives" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../how-to-visualize-data-using-pandas/" class="btn btn-neutral float-right" title="How to Visualize Data Using Pandas" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, John Lockwood.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QX7KGT4YPE"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QX7KGT4YPE', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>